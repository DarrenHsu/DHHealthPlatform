script(src="/scripts/jquery.min.js" )
script(src="/scripts/bootstrap.min.js" )
script(src="/scripts/bootstrap.bundle.min.js")
script(src="/scripts/moment.min.js" )
script(src="/scripts/fullcalendar.min.js" )
script(src="/scripts/locale/zh-tw.js" )
script(src="/javascripts/calendar/theme-chooser.js")

- var j = "";
  each event in events
    - j += (j != "" ? "," : "") + "{id:'" + event.id + "',title:'" + event.title + "', start:'" + event.start + "',end:'" + event.end + "', textColor: '#ffffff'}";
    - index++

script.
  $(document).ready(function() {
    $('#calendar').fullCalendar({
      header: {
        left: 'prev,next today',
        center: 'title',
        right: 'month,agendaWeek,agendaDay'
      },
      defaultDate: new Date(),
      navLinks: true, // can click day/week names to navigate views
      editable: false,
      eventLimit: false, // allow "more" link when too many events
      events: [
        #{j}
      ],
      eventClick: function(calEvent, jsEvent, view) {
         alert('Event: ' + calEvent.id);
      }
    });
  });
  
style(type='text/css').
  #calendar {
    font-family: "Lucida Grande",Helvetica,Arial,Verdana,sans-serif;
    font-size: 14px;
    max-width: 900px;
    margin: 0 auto;
  }
    